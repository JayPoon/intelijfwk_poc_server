<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.clt.intel.dao.UserMapper">
    <resultMap id="BaseResultMap" type="com.clt.intel.bean.User">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Jun 15 14:32:14 CST 2016.
        -->
        <id column="user_id" property="userId" jdbcType="BIGINT"/>
        <result column="account" property="account" jdbcType="VARCHAR"/>
        <result column="accountfrom" property="accountfrom" jdbcType="BIGINT"/>
        <result column="accountName" property="accountname" jdbcType="VARCHAR"/>
        <result column="pasw" property="pasw" jdbcType="VARCHAR"/>
        <result column="tel" property="tel" jdbcType="VARCHAR"/>
        <result column="c_date" property="cDate" jdbcType="TIMESTAMP"/>
        <result column="c_accout" property="cAccout" jdbcType="VARCHAR"/>
        <result column="u_date" property="uDate" jdbcType="TIMESTAMP"/>
        <result column="u_account" property="uAccount" jdbcType="VARCHAR"/>
        <result column="status" property="status" jdbcType="BIGINT"/>
    </resultMap>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Jun 15 14:32:14 CST 2016.
        -->
        user_id, account, accountfrom, accountName, pasw, tel, c_date, c_accout, u_date,
        u_account, status
    </sql>
    <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Jun 15 14:32:14 CST 2016.
        -->
        select
        <include refid="Base_Column_List"/>
        from intel_user
        where user_id = #{userId,jdbcType=BIGINT}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Jun 15 14:32:14 CST 2016.
        -->
        delete from intel_user
        where user_id = #{userId,jdbcType=BIGINT}
    </delete>
    <insert id="insert" parameterType="com.clt.intel.bean.User">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Jun 15 14:32:14 CST 2016.
        -->
        insert into intel_user (user_id, account, accountfrom,
        accountName, pasw, tel,
        c_date, c_accout, u_date,
        u_account, status)
        values (#{userId,jdbcType=BIGINT}, #{account,jdbcType=VARCHAR}, #{accountfrom,jdbcType=BIGINT},
        #{accountname,jdbcType=VARCHAR}, #{pasw,jdbcType=VARCHAR}, #{tel,jdbcType=VARCHAR},
        #{cDate,jdbcType=TIMESTAMP}, #{cAccout,jdbcType=VARCHAR}, #{uDate,jdbcType=TIMESTAMP},
        #{uAccount,jdbcType=VARCHAR}, #{status,jdbcType=BIGINT})
    </insert>
    <insert id="insertSelective" parameterType="com.clt.intel.bean.User">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Jun 15 14:32:14 CST 2016.
        -->
        insert into intel_user
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="userId != null">
                user_id,
            </if>
            <if test="account != null">
                account,
            </if>
            <if test="accountfrom != null">
                accountfrom,
            </if>
            <if test="accountname != null">
                accountName,
            </if>
            <if test="pasw != null">
                pasw,
            </if>
            <if test="tel != null">
                tel,
            </if>
            <if test="cDate != null">
                c_date,
            </if>
            <if test="cAccout != null">
                c_accout,
            </if>
            <if test="uDate != null">
                u_date,
            </if>
            <if test="uAccount != null">
                u_account,
            </if>
            <if test="status != null">
                status,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="userId != null">
                #{userId,jdbcType=BIGINT},
            </if>
            <if test="account != null">
                #{account,jdbcType=VARCHAR},
            </if>
            <if test="accountfrom != null">
                #{accountfrom,jdbcType=BIGINT},
            </if>
            <if test="accountname != null">
                #{accountname,jdbcType=VARCHAR},
            </if>
            <if test="pasw != null">
                #{pasw,jdbcType=VARCHAR},
            </if>
            <if test="tel != null">
                #{tel,jdbcType=VARCHAR},
            </if>
            <if test="cDate != null">
                #{cDate,jdbcType=TIMESTAMP},
            </if>
            <if test="cAccout != null">
                #{cAccout,jdbcType=VARCHAR},
            </if>
            <if test="uDate != null">
                #{uDate,jdbcType=TIMESTAMP},
            </if>
            <if test="uAccount != null">
                #{uAccount,jdbcType=VARCHAR},
            </if>
            <if test="status != null">
                #{status,jdbcType=BIGINT},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.clt.intel.bean.User">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Jun 15 14:32:14 CST 2016.
        -->
        update intel_user
        <set>
            <if test="account != null">
                account = #{account,jdbcType=VARCHAR},
            </if>
            <if test="accountfrom != null">
                accountfrom = #{accountfrom,jdbcType=BIGINT},
            </if>
            <if test="accountname != null">
                accountName = #{accountname,jdbcType=VARCHAR},
            </if>
            <if test="pasw != null">
                pasw = #{pasw,jdbcType=VARCHAR},
            </if>
            <if test="tel != null">
                tel = #{tel,jdbcType=VARCHAR},
            </if>
            <if test="cDate != null">
                c_date = #{cDate,jdbcType=TIMESTAMP},
            </if>
            <if test="cAccout != null">
                c_accout = #{cAccout,jdbcType=VARCHAR},
            </if>
            <if test="uDate != null">
                u_date = #{uDate,jdbcType=TIMESTAMP},
            </if>
            <if test="uAccount != null">
                u_account = #{uAccount,jdbcType=VARCHAR},
            </if>
            <if test="status != null">
                status = #{status,jdbcType=BIGINT},
            </if>
        </set>
        where user_id = #{userId,jdbcType=BIGINT}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.clt.intel.bean.User">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Jun 15 14:32:14 CST 2016.
        -->
        update intel_user
        set account = #{account,jdbcType=VARCHAR},
        accountfrom = #{accountfrom,jdbcType=BIGINT},
        accountName = #{accountname,jdbcType=VARCHAR},
        pasw = #{pasw,jdbcType=VARCHAR},
        tel = #{tel,jdbcType=VARCHAR},
        c_date = #{cDate,jdbcType=TIMESTAMP},
        c_accout = #{cAccout,jdbcType=VARCHAR},
        u_date = #{uDate,jdbcType=TIMESTAMP},
        u_account = #{uAccount,jdbcType=VARCHAR},
        status = #{status,jdbcType=BIGINT}
        where user_id = #{userId,jdbcType=BIGINT}
    </update>


    <select id="getUserByParm" parameterType="com.clt.intel.bean.User" resultMap="BaseResultMap">
        select
        <include refid="Base_Column_List"/>
        from intel_user
        <where >
            <if test="account != null">
                AND  account = #{account,jdbcType=VARCHAR}
            </if>
            <if test="accountfrom != null" >
                AND   accountfrom = #{accountfrom,jdbcType=BIGINT}
            </if>
            <if test="accountname != null">
                AND  accountName = #{accountname,jdbcType=VARCHAR}
            </if>
            <if test="pasw != null">
                AND   pasw = #{pasw,jdbcType=VARCHAR}
            </if>
            <if test="tel != null">
                AND  tel = #{tel,jdbcType=VARCHAR}
            </if>
            <if test="cDate != null">
                AND  c_date = #{cDate,jdbcType=TIMESTAMP}
            </if>
            <if test="cAccout != null">
                AND   c_accout = #{cAccout,jdbcType=VARCHAR}
            </if>
            <if test="uDate != null">
                AND   u_date = #{uDate,jdbcType=TIMESTAMP}
            </if>
            <if test="uAccount != null">
                AND    u_account = #{uAccount,jdbcType=VARCHAR}
            </if>
            <if test="status != null" >
                AND  status = #{status,jdbcType=BIGINT}
            </if>
        </where>
    </select>


    <select id="mobileMarkList" parameterType="java.util.Map" resultType="java.util.Map">

  select * from (
    select a.system_id,a.sys_name,a.sys_url,a.sys_title,a.sys_pic,a.comp_pic ,a.sys_memo,b.user_id
    from intel_system a left join intel_user_system b on a.system_id = b.system_id and b.user_id =  #{userId,jdbcType=BIGINT}
 ) c where
        <if test="markType != null and markType == 1" >
              c.user_id is NOT NULL
        </if>
        <if test="markType != null and markType == 2" >
              c.user_id is NULL
        </if>




    </select>


</mapper>